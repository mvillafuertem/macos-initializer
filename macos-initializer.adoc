= MacOS Initializer
:author: Miguel Villafuerte
:email: mivimur@hotmail.com
:revnumber: v1.0
:revdate: 11 Octubre 2017
:version-label!:
:toc: left
:toclevels: 3
:sectnums:
:chapter-label:
:icons: font
:source-highlighter: coderay
:pygments-linenums-mode: inline
:experimental:
:doctype: book
:imagesdir: resources/images

== Home Directory

[source, bash, numbered]
----

sudo ditto -rsrc /Users/mavillafuerte /Volumes/Data/mavillafuerte

----

== Homebrew

https://brew.sh/index_es.html[Descargar]

[source, bash, numbered]
----

brew update
brew upgrade
brew tap
brew cask install java8
brew install maven
brew install gradle
brew install bash-completion
brew install nmap
brew cask install atom
brew cask install google-chrome
brew cask install intellij-idea-ce
brew cask install virtualbox

#Descarga la última versión de java
brew cask install java

----

== Git

[source, bash, numbered]
.git aliases
----

git config --global alias.br "branch -a -v"
git config --global alias.ca "commit --amend"
git config --global alias.ci "commit -m"
git config --global alias.ck "checkout"
git config --global alias.cl "clone"
git config --global alias.conf "config --global --list"
git config --global alias.dw "diff --word-diff"
git config --global alias.dw-1 "diff --word-diff HEAD^"
git config --global alias.dw-2 "diff --word-diff HEAD^^"
git config --global alias.f "fetch"
git config --global alias.ll "log --graph --all"
git config --global alias.lld "log --graph --all --date-order"
git config --global alias.llp "log --graph --all -p"
git config --global alias.lls "log --graph --all --stat"
git config --global alias.ph "push"
git config --global alias.pl "pull --rebase"
git config --global alias.ra "remote add"
git config --global alias.rr "remote remove"
git config --global alias.st "status"
git config --global alias.tree "log --all --graph --decorate --oneline --simplify-by-decoration"

----

[source, bash, numbered]
.git color
----

git config --global color.branch "auto"
git config --global color.branch.current "green"
git config --global color.branch.local "cyan"
git config --global color.branch.remote "white"
git config --global color.decorate.branch "green"
git config --global color.decorate.head "white"
git config --global color.decorate.remote "yellow"
git config --global color.decorate.stash "yellow"
git config --global color.decorate.tag "yellow"
git config --global color.diff "auto"
git config --global color.diff.context "102"
git config --global color.diff.frag "080"
git config --global color.diff.func "176"
git config --global color.diff.meta "016"
git config --global color.diff.new "157 016"
git config --global color.diff.old "210 016"
git config --global color.interactive	"auto"
git config --global color.interactive.error "normal"
git config --global color.interactive.header "normal"
git config --global color.interactive.help "normal"
git config --global color.interactive.prompt "normal"
git config --global color.pager "true"
git config --global color.status "auto"
git config --global color.status.added "114"
git config --global color.status.branch "016 068"
git config --global color.status.changed "210"
git config --global color.status.header "102"
git config --global color.status.nobranch	"bold ul blink 209"
git config --global color.status.untracked "221"
git config --global color.ui "auto"

----


[source, bash, numbered]
.git format
----

git config --global format.pretty "'%C(cyan)%h%C(reset) %C(white)%s%C(reset) %C(auto)%D%C(reset) %C(magenta dim)%an%C(reset) %C(dim blue)%ar%C(reset)'"

----


[source, bash, numbered]
.git user
----

git config --global user.email "mivimur@hotmail.com"
git config --global user.name "Miguel Villafuerte"

----

[source, bash, numbered]
.git ignore
----

git config --global core.excludesFile ~/.gitignore

----

== Terminal


[source, bash, numbered]
.bash_aliases
----

alias ..='cd ..'
alias ..2='cd ../..'
alias desk='cd ~/Desktop'
alias gitlab='cd ~/Projects/Gitlab'
alias ll='ls -la'
alias oa='atom .'
alias of='open .'
alias oi='idea .'
alias projects='cd ~/Projects'
alias newproject='mkdir -p src/{main,test}/{java,resources} src/main/java/com/mvillafuertem'
alias workspace='cd ~/Workspace'
alias ppwd='cd `pbpaste`'
# Gradle
alias gdl-cb='./gradlew clean build'
alias gdl-tc='./gradlew test --continuous'
alias gdl-tj='./gradlew test jacocoTR --continuous'
# Maven
alias mvn-cc='mvn clean compile'
alias mvn-ci='mvn clean install'
alias mvn-cis='mvn clean install -Dmaven.test.skip'
alias mvn-co='mvn clean test cobertura:cobertura'
alias mvn-ct='mvn clean test'
alias mvn-cto='mvn -o clean test'
alias mvn-da='mvn dependency:analyze'
alias mvn-dl='mvn dependency:list'
alias mvn-dt='mvn dependency:tree'
alias mvn-du='mvn versions:display-dependency-updates'
alias mvn-pu='mvn versions:display-plugin-updates'
alias mvn-sr='mvn surefire-report:report'
alias mvn-so='mvn sonar:sonar'
# VirtualBox
alias vbox-start='VBoxManage startvm ubuntu -type headless'
alias vbox-stop='VBoxManage controlvm ubuntu poweroff'
alias vbox-list='VBoxManage list vms'

----

[source, bash, numbered]
.bash_functions
----

if [ -f $(brew --prefix)/etc/bash_completion ]; then
    . $(brew --prefix)/etc/bash_completion
fi

newmicro() {
  `mkdir -p src/{main,test}/{java,resources} src/main/java/com/mvillafuertem/$1/{common,component,configuration,controller,model,repository,service}`
}

fromhex() {
    hex=${1#"#"}
    r=$(printf '0x%0.2s' "$hex")
    g=$(printf '0x%0.2s' ${hex#??})
    b=$(printf '0x%0.2s' ${hex#????})
    printf '%03d' "$(( (r<75?0:(r-35)/40)*6*6 +
                       (g<75?0:(g-35)/40)*6   +
                       (b<75?0:(b-35)/40)     + 16 ))"
}

----



[source, bash, numbered]
.bash_profile
----

source .bash_aliases
source .bash_functions

export CDPATH=.:~/Projects

function git_villafuerte {
  local git_compruebo="$(git branch 2>/dev/null)"
  if [[ ! -z "$git_compruebo" ]]; then
    local git_status="$(git status 2> /dev/null)"
    local git_branch="$(git branch 2> /dev/null | grep '^*' | colrm 1 2)"

    if [[ ! $git_status =~ "working tree clean" ]]; then
      echo -e "\033[3;38;5;124m [✘ $git_branch]"
    elif [[ $git_status =~ "branch is ahead" ]]; then
      echo -e "\033[3;38;5;172m [✘ $git_branch]"
    else
      echo -e "\033[3;32m [✔︎ $git_branch]"
    fi
  fi
}

PS1='\[\033[0;32m\]\u '
PS1+='\[\033[0;36m\]\W'
PS1+='$(git_villafuerte) '
PS1+='\[\033[0;37m\]$(date "+%d/%b/%Y %H:%M:%S") '
PS1+='\n\[\033[0;32m\]└─>\[\033[0m\]'

----

=== Resultado

image::ScreenShot-Terminal.png[]

== Atom

[source, bash, numbered]
----

apm install sort-lines
apm install asciidoc-preview
apm install language-asciidoc

----

== Asciidoctor

[source, bash, numbered]
----

sudo gem install --pre asciidoctor-pdf
sudo gem install asciidoctor
sudo gem install pygments.rb
sudo gem install coderay

----

== iTerm 2

[source, bash, numbered]
----

brew cask install iTerm2

----


=== oh-my-zsh

[source, bash, numbered]
----

sh -c "$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"

----


=== Solarized Theme


[source, bash, numbered]
----

git clone https://github.com/bhilburn/powerlevel9k.git ~/.oh-my-zsh/custom/themes/powerlevel9k

vi .zshrc
# añadir las siguientes lineas
ZSH_THEME="agnoster"
ZSH_THEME="powerlevel9k/powerlevel9k"

----

=== Fonts

[source, bash, numbered]
----

# Debes instalar estas fuentes, para evitar errores en los caracteres
git clone https://github.com/powerline/fonts.git --depth=1
# install
cd fonts
./install.sh
# clean-up a bit
cd ..
rm -rf fonts

----

Preferences > Profiles > Text > Change Font > Meslo LG for Powerline

=== Resultado

image::ScreenShot-iTerm.png[]
